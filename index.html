
<!doctype html>
<html lang="en">

<head>
    <title>Global Health Model - Visualizing Statistics from the WHO</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

    <!-- Custom forms -->
    <link href='https://fonts.googleapis.com/css?family=Raleway:500' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:600' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- Lib stylesheets -->
    <link rel="stylesheet" href="css/lib/bootstrap.css" type="text/css">
    <link rel="stylesheet" href="css/lib/bootstrap-responsive.css" type="text/css">
    <!--<link rel="stylesheet" href="css/lib/bootstrap-slider.min.css" type="text/css">-->
    <!--<link rel="stylesheet" href="css/lib/jquery-ui.min.css" type="text/css">-->
    <link rel="stylesheet" href="css/lib/nouislider.min.css" type="text/css">
    <!--<link rel="stylesheet" href="css/lib/nouislider.pips.css" type="text/css">-->
    <!--<link rel="stylesheet" href="css/lib/nouislider.tooltips.css" type="text/css">-->
    <link rel="stylesheet" href="css/lib/bootstrap-colorpicker.min.css" type="text/css">
    <link rel="stylesheet" href="css/lib/font-awesome.min.css" type="text/css">
    <link rel="stylesheet" href="css/lib/nv.d3.min.css" type="text/css">


    <!-- Custom stylesheets -->
    <link rel="stylesheet" href="css/loading-ring.css" type="text/css">
    <link rel="stylesheet" href="css/base-dark.css" type="text/css">


</head>

<body>
    <div id="fb-root"></div>
<script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v7.0" nonce="Oi2uFAwH"></script>
   
    <div id="detailsContainer" class="details-light" hidden></div>

    
    <div id=leftArea>
        <h1 style="font-size:32px;color:black;font-family:'Overpass-ExtraLight', sans-serif;left:0px;top:0px;">Viewing: <span id="stat-text"></span></h1>
        <div id="search">
            <h5 style="font-size: x-large; color: Black;">Search Country:</h5>
            <form onSubmit="return false;" class="navbar-search pull-left">
                <input id="searchField" type="text" class="search-query" autofocus="true" placeholder="Search">
            </form>
        </div>
        <div id="searchTwo">
            <h5 style="font-size: x-large; color: Black;">(Try Me!) Search WHO Data Sources:</h5>
            <form onSubmit="return false;" class="navbar-search pull-left">
                <input id="searchFieldTwo" type="text" class="search-query" autofocus="true" placeholder="Search">
            </form>
        </div>
    </div>
    <div id="doc-title">
        <p style="font-size: 34px; color: Black; font-weight:bold; font-family:'Overpass-ExtraLight', sans-serif;">Global Health Model</p>
        <p style="font-size: 16px; color: black; font-style:italic; font-family:'Overpass-ExtraLight', sans-serif;">Visualizing statistics from the WHO</p>
    </div>
    <div id="socialMedia">
        <p style="font-size: 48px; color: Black;">Spread Awareness!</p>
        <p style="font-size: 32px; color: Black;">Share This Globe!</p>
        <a href="https://twitter.com/intent/tweet?text=Hello%20world" class="fa fa-twitter"></a>
        <a href="https://instagram.com" class="fa fa-instagram"></a>
        <div class="fb-share-button" data-href="http://198.84.180.114:11001/?code=WHOSIS_000001#" data-layout="button_count" data-size="large"><a target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2F198.84.180.114%3A11001%2F%3Fcode%3DWHOSIS_000001%23&amp;src=sdkpreparse" class="fb-xfbml-parse-ignore">Share</a></div>            <a href="https://www.reddit.com/login/?dest=https%3A%2F%2Fwww.reddit.com%2Fsubmit%3Fselftext%3Dtrue%26title%3DMy%2520Post%2520Title%26text%3DThis%2520is%2520the%2520post%2520text" class="fa fa-reddit-alien"></a></p>
        <form onSubmit="return false;" class="navbar-search pull-left noHover">
            <input id="linkArea" type="text" class="search-query" autofocus="true" placeholder="Loading..." readonly>
        </form>
        <div id="linkAreaText">
        <p>(Click Here To Copy!)</p>
        <p id="yoyoyo-cool-thing"></p>
        </div>
    </div>
    <div id="logoBox">
        <img src="img/GlobalHealthModelLogo.png" alt="Logo">
    </div>


    <div id="parameters" class="parameter" hidden>
        <div class="container" style="width: auto;" hidden>
            <div class="row-fluid" style="height: 85px;">
                <div class="span6">
                    <h5>Bar Height</h5>
                    <div id="dropdownIndicator1Container" class="dropdown" style="z-index: 6;">
                        <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            <span class="dropdownIndicatorText">None</span>
                            <span class="caret"></span></button>
                        <ul id="dropdownIndicator1" class="dropdown-menu"></ul>
                    </div>
                </div>
                <div class="span1" style="width: 50px; margin-top: 22px; text-align: center; position: relative;">
                    <!--<a id="sliderIndicator1-min-color-picker"-->
                    <!--class="btn color-picker"-->
                    <!--style="width: 6px; height: auto; z-index: -5">-->
                    <!--&nbsp;-->
                    <!--</a>-->
                </div>
                <div class="span4" style="margin-top: 30px; text-align: center; position: relative;">
                    <div id="sliderIndicator1" class="sliderIndicator" style="width:130px; height: 17px;  margin: 0; position: relative;"></div>
                </div>
                <div class="span1" style="width: 50px; ; margin-top: 22px; text-align: center; position: relative;">
                    <!--<a id="sliderIndicator1-max-color-picker"-->
                    <!--class="btn color-picker"-->
                    <!--style="width: 6px; height: auto; z-index: -5">-->
                    <!--&nbsp;-->
                    <!--</a>-->
                </div>
            </div>
            <div class="row-fluid" style="height: 85px;">
                <div class="span6">
                    <h5>Bar Color</h5>
                    <div id="dropdownIndicator2Container" class="dropdown" style="z-index: 5;">
                        <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            <span class="dropdownIndicatorText">None</span>
                            <span class="caret"></span></button>
                        <ul id="dropdownIndicator2" class="dropdown-menu"></ul>
                    </div>
                </div>
                <div class="span1" style="width: 50px; margin-top: 22px; text-align: center; position: relative;">
                    <a id="sliderIndicator2-min-color-picker"
                       class="btn color-picker"
                       style="width: 6px; height: auto; z-index: -5">
                        &nbsp;
                    </a>
                </div>
                <div class="span4" style="margin-top: 30px; text-align: center; position: relative;">
                    <div id="sliderIndicator2" class="sliderIndicator" style="width:130px; height: 17px;  margin: 0; position: relative;"></div>
                </div>
                <div class="span1" style="width: 50px; ; margin-top: 22px; text-align: center; position: relative;">
                    <a id="sliderIndicator2-max-color-picker"
                       class="btn color-picker"
                       style="width: 6px; height: auto; z-index: -5">
                        &nbsp;
                    </a>
                </div>
            </div>
            <div class="row-fluid" style="height: 85px;">
                <div class="span6">
                    <h5>Country Color</h5>
                    <div id="dropdownIndicator3Container" class="dropdown" style="z-index: 4;">
                        <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            <span class="dropdownIndicatorText">None</span>
                            <span class="caret"></span></button>
                        <ul id="dropdownIndicator3" class="dropdown-menu"></ul>
                    </div>
                </div>
                <div class="span1" style="width: 50px; margin-top: 22px; text-align: center; position: relative;">
                    <a id="sliderIndicator3-min-color-picker"
                       class="btn color-picker"
                       style="width: 6px; height: auto; z-index: -5">
                        &nbsp;
                    </a>
                </div>
                <div class="span4" style="margin-top: 30px; text-align: center; position: relative;">
                    <div id="sliderIndicator3" class="sliderIndicator" style="width:130px; height: 17px;  margin: 0; position: relative;"></div>
                </div>
                <div class="span1" style="width: 50px; ; margin-top: 22px; text-align: center; position: relative;">
                    <a id="sliderIndicator3-max-color-picker"
                       class="btn color-picker"
                       style="width: 6px; height: auto; z-index: -5">
                        &nbsp;
                    </a>
                </div>
            </div>
            <div id="boxPlotContainer" hidden>
                <table>
                    <tr>
                        <td style="width: 33%">
                            <div id="chart1" class="chart">
                                <svg></svg>
                                <div id="indicator1Name" style="font-size: 12px; height: 30px; color: #aaa; text-align: center">aa</div>
                            </div>
                        </td>
                        <td style="width: 33%">
                            <div id="chart2" class="chart">
                                <svg></svg>
                                <div id="indicator2Name" style="font-size: 12px; height: 30px; color: #aaa; text-align: center"></div>
                            </div>
                        </td>
                        <td style="width: 33%">
                            <div id="chart3" class="chart">
                                <svg></svg>
                                <div id="indicator3Name" style="font-size: 12px; height: 30px; color: #aaa; text-align: center"></div>
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <div id="timelineContainer" hidden>
        <h5 style="font-size: x-large; color: black;">Explore Different Years:</h5>
        <div id="timeline" class="timeline"></div>
    </div>

    <div id="infoButtonContainer" style="z-index: 9999999;">
        <a href="#" data-toggle="modal" data-target="#config-modal" style="margin: 5px" hidden><i class="fa fa-cog fa-4x"></i></a>
        <a href="#" data-toggle="modal" data-target="#info-modal" style="margin: 5px"><i class="fa fa-info-circle fa-4x"></i></a>
    </div>

    <div id="worldContainer"></div>

</div>

<div class="modal fade" id="config-modal" data-width="1000" tabindex="-1" role="dialog" aria-labelledby="config-modal" aria-hidden>
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="form-signin-heading">Settings</h2>
            </div>
            <div class="modal-body">
                <div class="row-fluid" style="margin-top: -30px">
                    <div class="span9">
                        <table>
                            <tr>
                                <td>
                                    <div class="customCheckbox">
                                        <input type="checkbox" value="" id="showBoxPlotsCheckbox" onchange="onShowBoxPlotsCheckboxChange()" name="check" />
                                        <label for="showBoxPlotsCheckbox"></label>
                                    </div>
                                </td>
                                <td width="7px"></td>
                                <td>
                                    <div id="showBoxPlotsLabel" class="customCheckboxLabel" onclick="onShowBoxPlotsLabelClick()">
                                        Display box plots
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="customCheckbox">
                                        <input type="checkbox" value="" id="anchorCountryDetailsToMouseCheckbox" onchange="onAnchorCountryDetailsToMouseCheckboxChange()" name="check" />
                                        <label for="anchorCountryDetailsToMouseCheckbox"></label>
                                    </div>
                                </td>
                                <td width="7px"></td>
                                <td>
                                    <div id="anchorCountryDetailsToMouseLabel" class="customCheckboxLabel" onclick="onAnchorCountryDetailsToMouseLabelClick()">
                                        Show country details as a tooltip
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <div class="customCheckbox">
                                        <input type="checkbox" value="" id="keepBoundsCheckbox" onchange="onKeepBoundsCheckboxChange()" name="check" />
                                        <label for="keepBoundsCheckbox"></label>
                                    </div>
                                </td>
                                <td width="7px"></td>
                                <td>
                                    <div id="keepBoundsLabel" class="customCheckboxLabel" onclick="onKeepBoundsLabelClick()">
                                        Keep configured bounds when changing the year
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">
                    Close
                </button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="info-modal" data-width="1000" tabindex="-1" role="dialog" aria-labelledby="info-modal" aria-hidden>
    <div class="modal-dialog">
        <div class="modal-content">
            <!--<div class="modal-header">-->
            <!--<h2 class="form-signin-heading">More Info</h2>-->
            <!--</div>-->
            <div class="modal-body">
                <h3>Usage Instructions</h3>
                <p style="font-weight: 500;">
                    The Global Health index is a resource to visually interpret World Health Organization-approved data. This tool facilitates the understanding of various health-related crises around the world, paving the way for new and innovative solutions for the future.
                </p>
                <br>

                <p style="font-weight: 500;">
                    To navigate the datasets offered, use the search bar titled "Search WHO Data:" on the left side of the website. Also on the left side of the website you will find a "Search Country:" search bar, where you can type the name of a country and have the globe rotate such that the country faces towards you. On the bottom of the screen there is a timeline, which allows you to effortlessly scroll through data from different years, dating back many decades, letting you see for yourself how the world's health has changed, and predict where it will go next.
                </p>
                <br>
                
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">
                    Ok
                </button>
            </div>
        </div>
    </div>

</div>

<div style="width: 100%; position:fixed; height: 20px; background-color: #36393E; color:white; bottom:0; padding-left: 7px; padding-top: 5px;">
    <div style="float:left;">
        <p style="text-align: left">Created by <a href="https://github.com/RadioactiveHydra" target="_blank">Edward Li</a>, Julien Liang, Fan Yang, Senthan Sivatharan | Source Code Available on <a href="https://github.com/GlobalHealthModel/GHM" target="_blank">Github</a> | Written in 24-Hours for <a href="https://sethacks.ca/" target="_blank">SET.Hacks()</a></p>
    </div>
    <div style="float:right;">
        <p style="text-align: right">Information by the <a href="https://www.who.int/" target="_blank">WHO</a> | Globe Renderer Written by <a href="https://github.com/EdDuarte/living-globe" target="_blank">Living-Globe</a> (<a href="https://threejs.org/" target="_blank">three.js</a> and <a href="https://get.webgl.org/" target="_blank">WebGL</a>) | |</p>
    </div>
    
</div>

<div id="loadingContainerBIGGER">
    <div id="loadingContainer">
        <div id="loading">
            <img src="img/GlobalHealthModelLogo.png" alt="Logo">
            <h1>Loading Global Health Model...</h1>
            <h3 id="loading-currently-viewing"></h3>
            <h5 id=loading-text>Initializing...</h5>
            <div
                id="loading-bar"
                class="ldBar"
                data-preset="circle"
                data-value="0"
                style="display: inline-block"
            ></div>
            
        </div>
    </div>
</div>


<!-- Lib scripts -->

<script type="text/javascript" src="js/lib/Three62.js"></script>
<script type="text/javascript" src="js/lib/OrbitControls.js"></script>
<script type="text/javascript" src="js/lib/TrackballControls.js"></script>
<script type="text/javascript" src="js/OrbitTrackballControls.js"></script>
<script type="text/javascript" src="js/lib/THREEx.FullScreen.js"></script>
<script type="text/javascript" src="js/lib/THREEx.WindowResize.js"></script>
<script type="text/javascript" src="js/lib/detector.js"></script>

<script type="text/javascript" src="js/lib/jquery-1.11.2.min.js"></script>
<!--<script type="text/javascript" src="js/lib/jquery-ui.min.js"></script>-->
<script type="text/javascript" src="js/lib/jquery.autocomplete.js"></script>
<!--<script type="text/javascript" src="js/lib/jquery.csv-0.71.min.js"></script>-->
<script type="text/javascript" src="js/lib/wNumb.js"></script>
<script type="text/javascript" src="js/lib/nouislider.min.js"></script>
<script type="text/javascript" src="js/lib/d3.v3.min.js"></script>
<script type="text/javascript" src="js/lib/nv.d3.js"></script>
<script type="text/javascript" src="js/lib/stats.js"></script>

<script type="text/javascript" src="js/lib/numeral.min.js"></script>
<script type="text/javascript" src="js/lib/bootstrap.min.js"></script>
<script type="text/javascript" src="js/lib/bootstrap-slider.min.js"></script>
<script type="text/javascript" src="js/lib/bootstrap-colorpicker.min.js"></script>

<script type="text/javascript" src="js/lib/chroma.min.js"></script>
<script type="text/javascript" src="js/lib/utils.js"></script>

<script type="text/javascript" src="js/lib/postprocessing/EffectComposer.js"></script>
<script type="text/javascript" src="js/lib/postprocessing/RenderPass.js"></script>
<script type="text/javascript" src="js/lib/postprocessing/ShaderPass.js"></script>
<script type="text/javascript" src="js/lib/postprocessing/MaskPass.js"></script>

<script type="text/javascript" src="js/lib/shaders/FXAAShader.js"></script>
<script type="text/javascript" src="js/lib/shaders/AdditiveBlendShader.js"></script>
<script type="text/javascript" src="js/lib/shaders/CopyShader.js"></script>

<script id="globeVertexShader" type="x-shader/x-vertex">
  varying vec3 vNormal;
  varying vec2 vUv;
  void main()
  {
   gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0);
   vNormal = normalize( normalMatrix * normal );
   vUv = uv;
}
</script>

<script id="globeFragmentShader" type="x-shader/x-fragment">
  uniform sampler2D mapIndex;
  uniform sampler2D ratio;
  uniform sampler2D select;
  uniform sampler2D outline;
  uniform sampler2D blendImage;
  varying vec3 vNormal;
  varying vec2 vUv;
  void main() {
   vec4 mapColor = texture2D( mapIndex, vUv );
   float indexedColor = mapColor.y;

   vec2 ratioUV = vec2( indexedColor, 0.0 );
   vec4 ratioColor = texture2D( ratio, ratioUV );

   vec2 selectUV = vec2( indexedColor, 0.0 );
   vec4 selectColor = texture2D( select, selectUV );

   vec4 outlineColor = texture2D( outline, vUv );
   vec4 blendColor = texture2D( blendImage, vUv );
			// if (outlineColor.x > 0.1) outlineColor = vec4(1.0,1.0,1.0,1.0);

			gl_FragColor = 0.5 * outlineColor + 1.0 * ratioColor + 1.0 * selectColor + 0.5 * blendColor;
		}
	</script>



<!-- Custom scripts -->

<!-- Custom Loading Bar!! -->
<link rel="stylesheet" href="css/loading-bar.css" type="text/css">
<script type="text/javascript" src="js/loading-bar.js"></script>

<script type="text/javascript" src="js/base.js"></script>


</body>
</html>
